# $Id: Portfile 59301 2009-10-13 10:20:05Z raimue@macports.org $

PortSystem          1.0

name                faumachine
version             20090922
categories          emulators
platforms           darwin
maintainers         raimue
description         Virtual machine running in user mode
long_description \
   FAUmachine is a virtual machine running in user mode. It has hardware \
   fault injection capability and supports running automated tests, e.g. for \
   testing OS installations.

homepage            http://www3.informatik.uni-erlangen.de/Research/FAUmachine/
master_sites        ${homepage}/downloads/

checksums           md5     b7fd468b1c14517e8a69a211a367d3d7 \
                    sha1    3800479050b49e45aae497aefc9dfbf077533554 \
                    rmd160  d37094031931079b3843151a72e57d7170b42bb0

depends_build \
    bin:autoconf:autoconf \
    bin:automake:automake \
    port:pkgconfig \
    port:xmlto

depends_lib \
    port:fauhdlc \
    port:faumachine-bios \
    port:gtk2 \
    port:libpng \
    port:libtheora

depends_run \
    port:zenity

use_autoreconf      yes
configure.args      --with-fauhdli-dir=${prefix} \
                    --disable-build-bios

livecheck.type      regex
livecheck.url       [lindex ${master_sites} 0]
livecheck.regex     ${name}-(\[0-9\]+)${extract.suffix}
