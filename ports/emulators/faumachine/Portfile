# $Id$

PortSystem          1.0

name                faumachine
version             20100324
categories          emulators
platforms           darwin
maintainers         raimue
description         Virtual machine running in user mode
long_description \
   FAUmachine is a virtual machine running in user mode. It has hardware \
   fault injection capability and supports running automated tests, e.g. for \
   testing OS installations.

homepage            http://www3.informatik.uni-erlangen.de/Research/FAUmachine/
master_sites        ${homepage}/downloads/

checksums           md5     3a66e1c9d0fe236a891d5a1519e7e575 \
                    sha1    18169b1acc842dd4dccf6cd5dddf51434cd16351 \
                    rmd160  7598242c81d410ae9a0ad9f0f44a838a0b48ff62

depends_build \
    port:pkgconfig \
    port:xmlto

depends_lib \
    port:fauhdlc \
    port:faumachine-bios \
    port:gtk2 \
    port:libpng \
    port:libtheora

depends_run \
    port:zenity

use_autoreconf      yes
configure.args      --with-fauhdli-dir=${prefix} \
                    --disable-build-bios

livecheck.type      regex
livecheck.url       [lindex ${master_sites} 0]
livecheck.regex     ${name}-(\[0-9\]+)${extract.suffix}
